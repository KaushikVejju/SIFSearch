<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIFSearch Home</title>
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.14.2/dist/algoliasearch-lite.umd.js" integrity="sha256-dImjLPUsG/6p3+i7gVKBiDM8EemJAhQ0VvkRK2pVsQY=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.49.1/dist/instantsearch.production.min.js" integrity="sha256-3s8yn/IU/hV+UjoqczP+9xDS1VXIpMf3QYRUi9XoG0Y=" crossorigin="anonymous"></script>
    <link rel = "shortcut icon" type = "image/png" href = "static/favicon.png">
    <link rel= "stylesheet" href = "{% static 'style.css'%}">
    <link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous" />
    <script src="{% static 'scripts.js' %}" defer></script>
</head>
<body>
    <div class = "main">
    <br>
    <br>
    <div class = "welcomediv">
        <h1 class = "sifsearchtitle"> Welcome To <b class = main-title>SIFSearch</b><i id = "mag-glass" class="fa-solid fa-magnifying-glass"></i></h1>
        <div class = "option-div">
            <button id ="upload-btn-mode" class = "upload-btn-mode" onclick="uploadMode()">Upload</button>
            <button id = "search-btn-mode" class="search-btn-mode" onclick="searchMode()">Search</button>
        </div>
        <!--divs for InstantSearch.js materials-->
        <div id = "searchbardiv" class = "searchbardiv"></div>
        <div id = "refinement-list"></div>
        <div  id = "hits"></div>
        <div id = "pagination"></div>
        <br>
        <!--upload form-->
        <div id = "upload-div" class = "upload-div">
            <br>
            <h3 class = "upload-title">Upload Something Cool.</i></i></h3>
            <form id = "upload-form"> 
                <label for="title">Name:</label><br>
                <input type="text" id="title" placeholder="Call It Something." name="title"><br>
                <label for="description">Description:</label><br>
                <input type="text" id="description" placeholder="Describe It." name="description">
                <br>
                <!--Option for uploading a file or pasting a link-->
                <div class = "choose-entry">
                    <label class = "what-to-share">What Do You Want To Share?</label><br>
                    <button onclick ="pasteLink()" type ="button" id = "paste-link" class="paste-link" onclick="search_mode()">Paste Link</button>
                    <button onclick ="uploadFile()" type = "button" id ="upload-file" class = "upload-file" onclick="upload_mode()">Upload File</button>
                </div>
                <div id = "show-link">
                    <input type="text" id="link-entry" placeholder="Provide a Link" name="link-entry">
                </div>
                <div id = "show-file">
                    <input type="file" id="myFile" name="filename">
                </div>
                <!--Selecting a tag-->

                <label for="option_tag">Tag:</label><br>
                <select class = "tag-form" id = "tag-form">
                    <option>Code Repositories</option>
                    <option>News Articles</option>
                    <option>Research & Trading Strategies</option>
                    <option>SIF Related</option>
                    <option>Random Stuff</option>
                    <!-- html for adding a tag -->
                    {% for t in currtags %}
                    <option>{{ t.tag }}</option>
                    {% endfor %}
                </select>
                <button onclick = "addTag()" type ="button" class = "add-tag-btn"> Add a Tag </button>
                <div id = "add-tag">
                    <input type="text" id="add-tag-input" placeholder="Add a Tag?" name="add-tag">
                </div>

            </form>            
            <button type="submit" onclick="uploadFunction()" class = "uploadbutton"><i class="fa-solid fa-upload"></i></button>
        </div>
        <!--Shows upon successful upload -->
        <div id = "upload-success" class = "upload-success">
            <h3 class = "nice-comment">Nice. You've uploaded something cool.</h3>
            <b>Name of Entry: </b><p id = "title-success"></p> 
            <b>Description:</b> <p id = "descr-success"></p>
            <button onclick="goBack()" class = "gobackbtn"> Upload More </button>
        </div>  
    </div>
</div>
</body>
</html>